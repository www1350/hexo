---
title: 关于盖楼评论我的看法
tags:
  - 盖楼
  - 评论
categories: 数据库
abbrlink: ab54ac08
date: 2016-07-06 22:14:12
---

效果如下
![image](https://cloud.githubusercontent.com/assets/7789698/16605514/28534b6a-4362-11e6-8f1e-5c3f5d298f1e.png)

关于表设计，网上大部分人的设计是储存一个父评论id，采用自反递归查询
http://www.tracefact.net/Software-Design/Unlimited-comment-quote-using-recursion.aspx

我认为
1.这个父id可以按层次顺序存储所有父id，这样批量查询一次就行了。
2.可以在评论内容里面直接写入盖楼效果，展示的时候css控制就好了


3.闭包表
http://blog.jobbole.com/112315/